# 体系结构
## 概念
- 组件(Component)，是一个模块单元，具有良好定义的接口，可替换的；
- 链接器(Connector)，一种机制：在组件之间传递通信、使组件相互协调和协作；
- 系统体系结构(system architecture)，确定软件组件、这些主键交互以及对应所处位置；
- 垂直分布性(vertical distribution)，将应用分层，按逻辑从上往下把不同组件放在不同的机器上。
- 水平分布性(horizontal distribution)，物理上分割成逻辑相等的多个部分，分布在多台机器上，每个部分操作在整个数据集中自身共享部分，以实现负载平衡。
- 服务器客户(servent)，每个进程作为客户又作为服务器。
## 分类

- 分层体系结构：网络模型
    ![](/images/ds/ar_layers.PNG)
- 基于对象的体系结构：对象之间互相调用，每个对象对应一个组件。
    ![](/images/ds/ar_object.PNG)
- 以数据为中心的体系结构：进程通信通过一个公用（被动或主动的）仓库。
    
- 基于事件的体系结构：发布/订阅系统，松散耦合，引用去耦（无需明确引用对方）。
    ![](/images/ds/ar_component.PNG)
- 共享数据空间：基于事件与以数据为中心的体系结构结合。
    ![](/images/ds/ar_share.PNG)

根据组件所在位置，划分系统体系结构：
- 集中式体系结构 <br>
    垂直分布性 <-> 垂直分割 <br>
    B/S架构，连接分为无连接（请求/响应）和有连接。
    - 无连接，高效，难以处理请求丢失、网络故障，可能存在重复提交情况。
    - 有连接，创建/断开连接开销较高。
    > 用户接口层
    > 处理层
    > 数据层
- 非集中式体系结构 <br>
    水平分布性 <-> 负载均衡 <br>
    满足水平分布性的典型结构：点对点系统(peer-peer system, ptop)。系统由多个相等进程组成，进程交互对称的，每个进程是服务器客户。
    - 结构化点对点系统，分布式哈希表(distributed hash table, DHT)组织进程。<br>
    每个基于DHT系统核心，实现一种高效且确定的方案，根据某种距离尺度把数据项的关键值唯一映射给结点的标识符。
    > 例子：chord、CAN。
    - 非结构化点对点系统 <br>
    非结构化，主要依靠随机化的算法来构造覆盖网络。
    ```
    // todo
    ```
- 混合体系结构 <br>
    - 边界服务器系统(edge-server system)
    - 协作式分布式系统
## 体系结构与中间件
    中间件的作用，提供分布式系统的透明性，隐藏数据处理和控制的分布性。
### 机制
- 中断器







    


